@page "/Metals"
@using System.Net.Http.Json
@using GoldenStore.Models

@inject IHttpClientFactory _clientFactory

<h3>MetalData</h3>

@code {
    MetalModels metal;
    string errorString;

    protected override async Task OnParametersSetAsync() {

        var client = _clientFactory.CreateClient();
        try
        {
            metal = await client.GetFromJsonAsync<MetalModels>("http://api.openweathermap.org/data/2.5/weather?q=London,uk&APPID=47d3795b63c43880829c7e34122c2e55");
        }
        catch (Exception ex)
        {
            errorString = "There was an error getting our metal api";
        }
    }
}
